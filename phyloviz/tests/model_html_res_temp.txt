<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-16">
<title>WebGL - Experiment</title>
<link rel="stylesheet" type="text/css" href="/static/slick.grid.css?v=459dd2d912077e3463f80dfcef768141">
<link rel="stylesheet" type="text/css" href="/static/jquery-ui-1.11.3.custom.css?v=42468acb3ddfa7a28295e35d52f1abb9">
<link rel="stylesheet" type="text/css" href="/static/slick.grid.format.css?v=e6a868a89793281828f8cbe74125540b">
<link rel="stylesheet" type="text/css" href="/static/style.css?v=52f3085bd2363b0b0071cb705c88473a">
<script type="text/javascript" src="/static/gl-matrix.min.js?v=2e2806f78ad6a835e53b0aba5ff11ea9"></script>
<script type="text/javascript" src="/static/jquery-2.2.4.min.js?v=052806eeee49a85fb006eece489a8d1c"></script>
<script type="text/javascript" src="/static/jquery.event.drag-2.2.min.js?v=761bb3e053ce7bf2c41bdde132325c1f"></script>
<script type="text/javascript" src="/static/init_webgl.js?v=accf239875d43ca268c26b966318d898"></script>
<script type="text/javascript" src="/static/callbacks.js?v=d2f9751006cfb0f2aa85071eecfc8eaa"></script>
<script type="text/javascript" src="/static/drawing_loop.js?v=6dccab7b52699cf67e598c6bbe28f30d"></script>
<script type="text/javascript" src="/static/init_webpage.js?v=6e8b50721b92a6138c023bc487dede10"></script>
<script type="text/javascript" src="/static/slick.core.min.js?v=bfd44ce7e43f91cc7c7a9f839ea46216"></script>
<script type="text/javascript" src="/static/slick.editors.min.js?v=b60ab77f525ee4ddd4cf416bc23412e6"></script>
<script type="text/javascript" src="/static/slick.formatters.min.js?v=733d94f8e307fa2daee8c1374f127116"></script>
<script type="text/javascript" src="/static/slick.grid.min.js?v=e9389ff282178ac012e0d6ec5eeba5c9"></script>
</head>
<body>
<div class="container">
<canvas class="tree-surface">
Your browser does not support HTML5
</canvas>
<div id="divcontainer"></div>
</div>
<div class="metadata-tabs">
<div class="tab-options">
<div>
<button class="tabs" onclick="showMenu(event,'highlight-menu')">Highlight Tips</button>
</div>
</div>
<div class="menu" id="highlight-menu">
<div>
<select id = "highlight-options"></select>
</div>
<div>
<input type = "button" value = "select" onclick = "userHighlightSelect();" />
<input type = "color" id="color-selector"/>
</div>
<div class="text-field">
<label for="lower-bound">Lower Bound</label>
<input type="text" id="lower-bound"/>
</div>
<div class="text-field">
<label for="upper-bound">Upper Bound</label>
<input type="text" id="upper-bound"/>
</div>
<div class="text-field">
<label for="category">Category Name</label>
<input type="text" id="category"/>
</div>
<div class="attr-selector">
</div>
</div>
</div>
<table>
<tr>
<td valign="top">
<div id="scrolltable"></div>
</td>
</tr>
<!-- <table id="dataTable">
</table> -->
</table>
<script type="text/javascript">
// global variables
var urls = { // urls for webserver
highlightURL : 'http://' + window.location.host + '/highlight',
collapseURL : 'http://' + window.location.host + '/collapse',
edgeURL : 'http://' + window.location.host + '/api/edges',
colorURL : 'http://' + window.location.host + '/color',
nodeURL : 'http://' + window.location.host + '/api/nodes',
tableURL : 'http://' + window.location.host + '/table_values'
};
let field = {
edgeFields : ["px", "py", "branch_color", "x", "y",
"branch_color"],
nodeFields : ["x", "y", "color"]
};
let shaderProgram = {}; // the complied vertex/fragment shaders
let gl = {}; // webgl context - used to call webgl functions
let drawingData = { // stores info need to draw such as vertex data
isMouseDown : false,
lastMouseX : null,
lastMouseY : null,
zoomAmount : 1,
scaleFactor : 5.0 / 4.0
};
let numAttr = 0;
let attrItem = {};
let labels = {};
</script>
<script type="text/javascript">
{
let edgeMetadata;
let nodeCoords;
// this may cause some syncing issues
$.getJSON(urls.nodeURL, function(data) {
nodeCoords = data;
}).done(function() {
drawingData.nodeCoords = extractInfo(nodeCoords, field.nodeFields);
$.getJSON(urls.edgeURL, function(data) {
edgeMetadata = data;
}).done(function() {
initWebPage(edgeMetadata);
drawingData.edgeCoords = extractInfo(edgeMetadata,field.edgeFields);
drawingData.largeDim = normalizeTree(edgeMetadata);
initWebGl();
initCallbacks();
setProjMat();
draw();
});
});
}
</script>
</body>
</html>
